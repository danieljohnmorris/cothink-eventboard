(function(a){var aw,aA,M,T,t,ab,aa,Z,n,Y,c,ag,r,ae,ak,s,l,C,z,S,y,av,ad,W,an,g,ap,X,w,h,Q,o,ay,L,G,b,ac,am,d,al,ah,ax,H,A,ar,K,k,f,U,B,at,e,R,aq,m,af,P;if((typeof a.RPXNOW!=="undefined")&&a.RPXNOW){return}s={};s.DEFAULT_BASE_URL="https://rpxnow.com/";Z=a.document;T=typeof a.ActiveXObject!=="undefined";r=Z.compatMode!=="CSS1Compat";n=(function(){var aC=a.navigator&&a.navigator.userAgent,aB=aC.match(/MSIE\s([^;]*)/),aD;if(aB&&aB[1]){aD=0;return(6===parseFloat(aB[1].replace(/\./g,function(){return(aD++===1)?"":"."})))}else{return false}}());ag=(function(){var aC="",aB=new RegExp("iphone|ipod|android|palm|blackberry|windows ce");try{aC=a.navigator.userAgent.toLowerCase()}catch(aD){}return aC.search(aB)!==-1}());C=Z.location.protocol==="https:";l=a.location.protocol.replace(/[:]$/,"");t=(C?"https://s3.amazonaws.com/static.rpxnow.com":"http://cdn.rpxnow.com");Y={bg_social:["rel/img/5d24af2656cb7d5bfc959225ed93f78e.png","rel/img/48225b514e12863809a27dbbd77e3bc9.gif"],bg_auth:["images/bg_auth.png/072e699dadea176ace38e1f39c8b1c6f.png","images/bg_auth.gif/59b67dc6128043d53a89808c2e08678a.gif"],lb_close:["images/close.png/94726c11718cedfae4b35ca5dfcf8971.png","images/close_ie.png/6e03cf22aa59b4844d0b78df3bc6787d.png"],lb_corners:["images/corners.png/47464b01c238fc81a5a537859e37e930.png","images/corners.gif/a5384cf51db4d3e85f3c4f95c546a9c5.gif"],lb_border:["images/border.png/01c40882d59520662e8cebae63d73a2c.png","images/border.gif/a7f3bf49b8e1d17d66a870e5b7d3b2b9.gif"],auth_background:["images/background.png/ce2da388a4e0fa1ef809b2c4cc4d5139.png","images/background.png/ce2da388a4e0fa1ef809b2c4cc4d5139.png"]};y=new RegExp("[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]","g");ad=new RegExp('[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',"g");ak=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];ae=new RegExp("(\\"+ak.join("|\\")+")","g");M=new RegExp("^https?://([a-z0-9]([\\-a-z0-9]*[a-z0-9])?\\.)*[a-z0-9]([\\-a-z0-9]*[a-z0-9])?(:[0-9]+)?(/[^?#]*(\\?[^#]*)?)?$","i");aA=new RegExp("^https?://([a-z0-9]([\\-a-z0-9]*[a-z0-9])?\\.)*[a-z0-9]([\\-a-z0-9]*[a-z0-9])?(:[0-9]+)?(/[^?#]*(\\?[^#]*)?)?(#.*)?$","i");aw=new RegExp("^/[^?#]*(\\?[^#]*)?$");ap=function(){return r?Z.body:Z.documentElement};P=function(aB){return Z.createElement(aB)};o=function(aB){var aC=Y[aB][n?1:0];return t+"/"+aC};Q=function(aB){return"url('"+o(aB)+"')"};w=function(aE,aB){var aC,aD=aE.style;for(aC in aB){if(Object.hasOwnProperty.call(aB,aC)){aD[aC]=aB[aC]}}};af=null;G=function(){if(!af){af=P("div");af.setAttribute("id","FB_HiddenContainer");w(af,{position:"absolute",top:"-10000px",left:"-10000px",width:"0",height:"0"});Z.body.insertBefore(af,Z.body.firstChild)}return af};b=function(aB,aC,aD){if(T){aC.attachEvent("on"+aB,aD)}else{aC.addEventListener(aB,aD,false)}};ac=function(aB,aC){b("click",aB,aC)};am=function(aB,aC){return function(){aB[aC].apply(aB,arguments)}};d=function(aB){return(Object.prototype.toString.apply(aB)==="[object Array]")};al=function(aB){return(typeof aB==="boolean")};ah=function(aB){return Object.prototype.toString.apply(aB)==="[object Function]"};ax=function(aB){return aB===null};H=function(aB){return typeof aB==="number"&&isFinite(aB)};A=function(aB){return(aB&&(typeof aB==="object"||ah(aB)))||false};ar=function(aB){return typeof aB==="string"};K=function(aB){return typeof aB==="undefined"};k=function(aB,aD){for(var aC=0;aC<aB.length;aC++){if(aB[aC]===aD){return aC}}return -1};f=function(aB){if(a.console){a.console.log(aB)}};U=function(){if(H(a.innerHeight)){return a.innerHeight}else{return ap().clientHeight}};B=function(){if(H(a.innerWidth)){return a.innerWidth}else{return ap().clientWidth}};at=function(){return Math.max(ap().scrollHeight,U())};e=function(){return Math.max(ap().scrollWidth,B())};R=function(aE){var aD=new RegExp("([^=]+)=([^&]*)&?","g"),aC=null,aF=aE.match(/^[^?]*(?:\?([^#]*))?(?:$|#.*$)/)[1],aB={};while(!ax(aC=aD.exec(aF))){(aB[decodeURIComponent(aC[1])]=decodeURIComponent(aC[2]))}return aB};aq=function(aB){return aB.replace(ae,"\\$1")};var E=function(aJ,aH){var aE,aD,aC,aG,aB,aK,aL,aI,aF;aL={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};aI=aH[aJ];aB=function(aM){ad.lastIndex=0;return ad.test(aM)?'"'+aM.replace(ad,function(aN){aF=aL[aN];return typeof aF==="string"?aF:"\\u"+("0000"+aN.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+aM+'"'};switch(typeof aI){case"string":return aB(aI);case"number":return isFinite(aI)?String(aI):"null";case"boolean":case"null":return String(aI);case"object":if(!aI){return"null"}aG=[];if(Object.prototype.toString.apply(aI)==="[object Array]"){aC=aI.length;for(aE=0;aE<aC;aE+=1){aG[aE]=E(aE,aI)||"null"}aK=aG.length===0?"[]":"["+aG.join(",")+"]";return aK}for(aD in aI){if(Object.hasOwnProperty.call(aI,aD)){aK=E(aD,aI);if(aK){aG.push(aB(aD)+":"+aK)}}}aK=aG.length===0?"{}":"{"+aG.join(",")+"}";return aK}throw new Error("What happened?.")},v=function(aB){return E("",{"":aB})},F=(function(){var aE,aC,aB={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},aN,aL=function(aO){throw {name:"SyntaxError",message:aO,at:aE,text:aN}},aH=function(aO){if(aO&&aO!==aC){aL("Expected '"+aO+"' instead of '"+aC+"'")}aC=aN.charAt(aE);aE+=1;return aC},aG=function(){var aP,aO="";if(aC==="-"){aO="-";aH("-")}while(aC>="0"&&aC<="9"){aO+=aC;aH()}if(aC==="."){aO+=".";while(aH()&&aC>="0"&&aC<="9"){aO+=aC}}if(aC==="e"||aC==="E"){aO+=aC;aH();if(aC==="-"||aC==="+"){aO+=aC;aH()}while(aC>="0"&&aC<="9"){aO+=aC;aH()}}aP=+aO;if(isNaN(aP)){aL("Bad number")}else{return aP}},aI=function(){var aR,aQ,aP="",aO;if(aC==='"'){while(aH()){if(aC==='"'){aH();return aP}else{if(aC==="\\"){aH();if(aC==="u"){aO=0;for(aQ=0;aQ<4;aQ+=1){aR=parseInt(aH(),16);if(!isFinite(aR)){break}aO=aO*16+aR}aP+=String.fromCharCode(aO)}else{if(typeof aB[aC]==="string"){aP+=aB[aC]}else{break}}}else{aP+=aC}}}}aL("Bad string")},aK=function(){while(aC&&aC<=" "){aH()}},aD=function(){switch(aC){case"t":aH("t");aH("r");aH("u");aH("e");return true;case"f":aH("f");aH("a");aH("l");aH("s");aH("e");return false;case"n":aH("n");aH("u");aH("l");aH("l");return null}aL("Unexpected '"+aC+"'")},aM,aJ=function(){var aO=[];if(aC==="["){aH("[");aK();if(aC==="]"){aH("]");return aO}while(aC){aO.push(aM());aK();if(aC==="]"){aH("]");return aO}aH(",");aK()}}aL("Bad array")},aF=function(){var aP,aO={};if(aC==="{"){aH("{");aK();if(aC==="}"){aH("}");return aO}while(aC){aP=aI();aK();aH(":");if(Object.hasOwnProperty.call(aO,aP)){aL('Duplicate key "'+aP+'"')}aO[aP]=aM();aK();if(aC==="}"){aH("}");return aO}aH(",");aK()}}aL("Bad object")};aM=function(){aK();switch(aC){case"{":return aF();case"[":return aJ();case'"':return aI();case"-":return aG();default:return aC>="0"&&aC<="9"?aG():aD()}};return function(aR,aP){var aO;aN=aR;aE=0;aC=" ";aO=aM();aK();if(aC){aL("Syntax error")}return typeof aP==="function"?(function aQ(aV,aU){var aT,aS,aW=aV[aU];if(aW&&typeof aW==="object"){for(aT in aW){if(Object.hasOwnProperty.call(aW,aT)){aS=aQ(aW,aT);if(aS!==undefined){aW[aT]=aS}else{delete aW[aT]}}}}return aP.call(aV,aU,aW)}({"":aO},"")):aO}}());var j={fetch:function(aB,aD){var aC=this._newRequest();aC.onreadystatechange=function(){if(aC.readyState!==4){return}switch(aC.status){case 200:case 304:aD.success(aC.responseText);return;case -1:return;default:break}aD.failure(aC.status,aC.statusText,aC.responseText)};aC.open("GET",aB,true);aC.send(null)},_newRequest:function(){if(K(a.XMLHttpRequest)){try{return new a.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(aE){}try{return new a.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(aD){}try{return new a.ActiveXObject("Msxml2.XMLHTTP")}catch(aC){}try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(aB){}throw new Error("This browser does not support XMLHttpRequest.")}else{return new a.XMLHttpRequest()}}};var ao={_cached:null,get:function(aB){return this._parsedCookies()[aB]},remove:function(aC,aB){aB=aB||{};aB.expires=new Date(0);return this.set(aC,"",aB)},set:function(aC,aD,aB){var aE=(encodeURIComponent(aC)+"="+encodeURIComponent(aD));if(A(aB)){if(aB.expires instanceof Date){aE+="; expires="+aB.expires.toGMTString()}if((aB.path)&&aB.path!==""){aE+="; path="+aB.path}if(ar(aB.domain)&&aB.domain!==""){aE+="; domain="+aB.domain}if(aB.secure===true){aE+="; secure"}}Z.cookie=aE;return aE},_parsedCookies:function(){var aE,aK,aD,aF,aB,aJ,aG,aC,aH;if(ax(this._cached)){aE=this._cached={};aK=Z.cookie;if(/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(aK)){aD=aK.split(/;\s/g);aB=null;aJ=null;aG=null;aC=null;for(aF=0,aH=aD.length;aF<aH;aF++){aC=aD[aF];aG=aC.match(/([^=]+)=(.*)/i);if(aG instanceof Array){try{aB=decodeURIComponent(aG[1].replace(/\+/g," "));aJ=decodeURIComponent(aG[2].replace(/\+/g," "));aE[aB]=aJ}catch(aI){}}}}}return this._cached}};var x=function(aC){var aB;this.pairs=[];if(aC&&typeof aC==="object"){for(aB in aC){if(aC.hasOwnProperty(aB)){this.add(aB,aC[aB])}}}};x.prototype={add:function(aC,aD){var aB=encodeURIComponent;if(!K(aD)&&!ax(aD)){this.pairs.push([aB(aC),aB(aD)].join("="))}},toString:function(){return this.pairs.join("&")}};var J=function(aF,aG){var aE,aB,aD,aC;aE=this.formElem=P("form");aB=this.submitElem=P("input");aB.setAttribute("type","submit");aE.appendChild(aB);aD=G();aD.appendChild(aE);this.inputElems={};if(aF){this.setAction(aF)}if(aG&&aG instanceof Object){for(aC in aG){if(aG.hasOwnProperty(aC)){this.setHidden(aC,aG[aC])}}}};J.prototype={setAction:function(aB){this.formElem.setAttribute("action",aB)},setMethod:function(aB){this.formElem.setAttribute("method",aB)},setTarget:function(aB){this.formElem.setAttribute("target",aB)},setHidden:function(aB,aE){var aD,aC=this.inputElems;if(ax(aE)){this.deleteHidden(aB);return}aD=aC[aB];if(!aD){aD=aC[aB]=P("input");aD.setAttribute("type","hidden");aD.setAttribute("name",aB);this.formElem.appendChild(aD)}aD.setAttribute("value",aE)},deleteHidden:function(aB){var aD=this.inputElems,aC=aD[aB];if(aC){this.formElem.removeChild(aC);aD.slice(k(aD,aC),1)}},submit:function(){this.submitElem.click()},submitTo:function(aB){this.setTarget(aB.getName());this.submit()}};var ai=function(){var aE,aB,aC,aD;aE=P("div");aB=this.name="rpx_auth_"+(new Date()).getTime();aC=G();aC.appendChild(aE);aD=n?s.config.baseUrl+"blank.html":"";aE.innerHTML=('<iframe src="'+aD+'" name="'+aB+'" id="'+aB+'"></iframe>');this.iframeElem=Z.getElementById(aB);if(T){a.frames[aB].name=aB}};ai.prototype={getName:function(){return this.name},setSrc:function(aB){this.iframeElem.setAttribute("src",aB)},addOnloadListener:function(aC){var aB=this.iframeElem;if(T){aB.onreadystatechange=function(){if(aB.readyState==="complete"){aC()}}}else{aB.addEventListener("load",aC,false)}}};var q=function(aD,aB,aC){this.width=aD;this.height=aB;this.window=null;this.name="rpx_window_"+s.config.appId+"_";if(K(aC)){this.name+=(new Date()).getTime()}else{this.name+=aC}this.closeListeners=[]};q.prototype={show:function(aB){var aE,aD,aC;if(!this.window){aE=this._getCenteredCoords();this.window=a.open(aB||"",this.name,"width="+this.width+",height="+this.height+",status=1,location=1,resizable=yes,left="+aE[0]+",top="+aE[1]);aD=this;aC=a.setInterval(function(){if(aD.window.closed){a.clearInterval(aC);aD._onClose()}},500)}},setLocation:function(aB){if(this.window){this.window.location.href=aB}},setSize:function(aC,aB){this.width=aC;this.height=aB;if(this.window){this.window.outerWidth=aC;this.window.outerHeight=aB}},close:function(){if(this.window){this.window.close()}},addCloseListener:function(aB){this.closeListeners.push(aB)},removeCloseListener:function(aB){this.closeListeners.splice(k(this.closeListeners,aB),1)},getName:function(){return this.name},focus:function(){this.window.focus()},_getCenteredCoords:function(){var aE,aB,aD,aC;aE=null;aB=null;if(T){aE=a.event.screenX-(this.width/2)+100;aB=a.event.screenY-(this.height/2)-100}else{aD=[a.outerWidth,a.outerHeight];aC=[a.screenX,a.screenY];aE=aC[0]+Math.max(0,Math.floor((aD[0]-this.width)/2));aB=a.screenY+15}return[aE,aB]},_onClose:function(){var aB,aC;for(aB=0;aB<this.closeListeners.length;aB++){aC=this.closeListeners[aB];aC()}}};var N=function(aQ,aO,aN){var aR,aI,aE,aG,aK,aD,aU,aF,aT,aP,aC,aS,aB,aM,aH,aL,aJ;aQ.style.position="relative";aJ=P("div");aJ.className="rpxnow_lightbox_trans";w(aJ,{backgroundColor:"black",position:"absolute",top:0,left:0,width:"100%",height:"100%"});if(T){aJ.style.filter="alpha(opacity=40)"}else{aB="0.4";w(aJ,{opacity:aB,KhtmlOpacity:aB,MozOpacity:aB})}aD=P("img");aD.src=o("lb_close");aD.alt="close";w(aD,{position:"absolute",top:"-4px",right:"-4px",cursor:"pointer",width:"34px",height:"34px"});aU=this.containerElem=P("div");aU.className="rpxnow_lightbox_container";w(aU,{position:"absolute",display:"block",padding:"10px",width:(aO+(n&&r?20:0))+"px",height:(aN+(n&&r?20:0))+"px"});aF={position:"absolute",width:"20px",height:"20px",backgroundImage:Q("lb_corners")};aI={position:"absolute",backgroundImage:Q("lb_border")};aH=P("div");w(aH,aF);w(aH,{top:"0",left:"0"});aM=P("div");w(aM,aI);w(aM,{top:"0",left:"20px",width:(aO-20)+"px",height:"20px"});aL=P("div");w(aL,aF);w(aL,{top:"0",right:"0",backgroundPosition:"top right"});aS=P("div");w(aS,aI);w(aS,{top:"20px",left:"0",width:(aO+20)+"px",height:(aN-20)+"px"});aG=P("div");w(aG,aF);w(aG,{bottom:"0",left:"0",backgroundPosition:"0 -20px"});aE=P("div");w(aE,aI);w(aE,{bottom:"0",left:"20px",width:(aO-20)+"px",height:"20px"});aK=P("div");w(aK,aF);w(aK,{bottom:"0",right:"0",backgroundPosition:"-20px -20px"});aT=[aH,aM,aL,aG,aE,aK,aS,aQ,aD];for(aP=0;aP<aT.length;aP++){aU.appendChild(aT[aP])}aC=this.lightboxElem=P("div");aC.className="rpxnow_lightbox";w(aC,{position:n?"absolute":"fixed",display:"none",top:0,left:0,zIndex:10000});aC.appendChild(aJ);aC.appendChild(aU);aR=Z.body;if(aR.firstChild){aR.insertBefore(aC,aR.firstChild)}else{aR.appendChild(aC)}b("resize",a,am(this,"resize"));b("click",aD,am(this,"hide"));if(n){a.attachEvent("onscroll",am(this,"scroll"))}this.closeListeners=[]};N.currentInstance=null;N.close=function(){N.currentInstance.hide()};N.prototype={show:function(){if(N.currentInstance===null){N.currentInstance=this}else{return false}this.containerElem.style.visibility="hidden";this.resize();if(n){this.scroll()}this.lightboxElem.style.display="block";return true},hide:function(){var aB,aC;this.lightboxElem.style.display="none";N.currentInstance=null;for(aB=0;aB<this.closeListeners.length;aB++){aC=this.closeListeners[aB];aC()}},addCloseListener:function(aB){this.closeListeners.push(aB)},removeCloseListener:function(aB){this.closeListeners.splice(k(this.closeListeners,aB),1)},isVisible:function(){return(this.lightboxElem.style.display==="block")},resize:function(){var aC,aE,aD,aB;aC=B();aE=U();w(this.lightboxElem,{width:aC+"px",height:aE+"px"});aD=this.containerElem;aB=function(){var aF=n&&r?0:10;w(aD,{top:(((aE-aD.offsetHeight)/2)+aF)+"px",left:(((aC-aD.offsetWidth)/2)+aF)+"px",visibility:"visible"})};if(aD.style.visibility==="hidden"){a.setTimeout(aB,0)}else{aB()}},scroll:function(){var aB=ap();w(this.lightboxElem,{top:aB.scrollTop+"px",left:aB.scrollLeft+"px"})}};var au,D,I,i,aj,V,u,p,O;u=R(a.location.href);p=(u.flags||"").split(",");O=k(p,"stay_in_window")>-1;aj=function(aC){var aB=document.createElement("a");aB.href="http://"+aC+"/";return aB.hostname};au=function(aB,aC,aD){this.name=aB;this.popupWidth=aC;this.popupHeight=aD;this.base_params={}};au.prototype={_start:function(aC,aB,aJ,aD){var aK,aI,aG,aE,aH,aF;if(!aC){m.setLastLoginTab(this.providerName())}aF=this.queryBuilder();aF.add("token_url",aB);if(aD){for(aH in aD){if(Object.hasOwnProperty.call(aD,aH)){aF.add(aH,aD[aH])}}}aI=null;aK=null;if(!ag){aF.add("callback",X(function(aL){if(!ax(aI)){a.clearInterval(aK);aI.close()}aJ(aL)}));aF.add("callbackScheme",l)}aG=this.startUrl()+"?"+aF.toString();if(aC){aE=new ai();aE.setSrc(aG)}else{if(ag){a.top.location.href=aG}else{aI=new q(this.popupWidth,this.popupHeight,this.name);aI.show(aG);aK=a.setInterval(function(){if(aI.window.closed){a.clearInterval(aK);aJ({stat:"fail",err:{code:-1}})}},1000)}}},queryBuilder:function(){var aB;aB=new x(this.base_params);aB.add("flags",u.flags);aB.add("language_preference",u.language_preference);aB.add("openid_proxy_url",u.openid_proxy_url);return aB},startUrl:function(){return s.config.baseUrl+this.name+"/start"},providerName:function(){return this.name}};V=function(aB){return function(aC){if(aC.stat==="ok"){if(K(aB.success)){a.setTimeout(function(){if(O){a.location.href=aC.redirectUrl}else{a.top.location.href=aC.redirectUrl}},1)}else{aB.success(aC.redirectUrl)}}else{if(K(aB.error)){aB(aC.err)}else{aB.error(aC.err)}}}};i=function(aB,aC,aE,aG,aD,aF){au.call(this,"openid",aD,aF);this.prefix=aC;this.suffix=aE;this.isSubdomain=aG;this._immediate={};this._providerName=aB};an=i.prototype=new au();an.providerName=function(){return this._providerName};an.immediate=function(aE){var aC,aB,aD;if(T){return}aC=m.getLastSuccessful();if(aC.providerName===this.providerName()){aD=this._inputToUrl(aC.userInput);aB=this;this._start(true,aE,function(aF){if(aF.stat==="ok"){aB._immediate.input=aC.userInput;aB._immediate.url=aF.redirectUrl}},{openid_identifier:aD,immediate:true})}};an.start=function(aC,aF,aE){if(!ax(this._immediate.url)&&aC===this._immediate.input){if(O){a.location.href=this._immediate.url}else{a.top.location.href=this._immediate.url}return}m.setLastUserInput(aC);var aD=this._inputToUrl(aC);var aB=V(aE);this._start(false,aF,aB,{openid_identifier:aD})};an._inputToUrl=function(aB){var aE,aC,aD;if(this.prefix.length>0||this.suffix.length>0){if(this.isSubdomain){aB=aB.toLowerCase();aE=aB.split(".");for(aD=0;aD<aE.length;aD++){aC=aE[aD];aC=aC.replace(/[\x00-\x2C\x2E\x2F\x3A-\x60\x7B-\x7F]/g,"");aE[aD]=aC.replace(/(^-|-$)/g,"")}aB=aj(aE.join("."))}else{aB=aB.replace(/^\s+|\s+$/g,"");aB=encodeURI(aB);aB=aB.replace("?","%3F").replace("#","%23")}}return this.prefix+aB+this.suffix};I=function(aB,aE,aC,aD){au.call(this,"openid",aC,aD);this._providerName=aB;this.identifierSelectUrl=aE;this.immediateUrl=null};g=I.prototype=new au();g.providerName=function(){return this._providerName};g.immediate=function(aE){if(T){return}var aD=m.getLastSuccessful();if(aD.providerName===this.providerName()){var aB=ao.get(this.providerName()+"_identifier");if(aB){var aC=this;this._start(true,aE,function(aF){if(aF.stat==="ok"){aC.immediateUrl=aF.redirectUrl}},{openid_identifier:aB,immediate:true})}}};g.start=function(aE,aD){if(!ax(this.immediateUrl)){if(O){a.location.href=this.immediateUrl}else{a.top.location.href=this.immediateUrl}return}var aC=ao.get(this.providerName()+"_identifier");if(!aC){aC=this.identifierSelectUrl}var aB=V(aD);this._start(false,aE,aB,{openid_identifier:aC})};g.startFresh=function(aD,aC){var aB=V(aC);this._start(false,aD,aB,{openid_identifier:this.identifierSelectUrl,force_reauth:true})};g.queryBuilder=function(){var aB=au.prototype.queryBuilder.call(this);aB.add("display","popup");return aB};D=function(aC,aD,aB){au.call(this,aC,aD,aB)};S=D.prototype=new au();S.start=function(aE,aD,aC){var aB=V(aD);this._start(false,aE,aB,aC)};m={setLastLoginTab:function(aB){var aC={expires:new Date(),path:"/"};aC.expires.setDate(aC.expires.getDate()+3650);ao.set("login_tab",aB,aC)},setLastUserInput:function(aB){var aC={expires:new Date(),path:"/"};aC.expires.setDate(aC.expires.getDate()+3650);ao.set("user_input",aB,aC)},getLastSuccessful:function(){var aB={providerName:ao.get("expected_tab"),userInput:ao.get("expected_user_input"),userName:null};var aD=ao.get("welcome_info");if(!ax(aD)){try{var aC=F(aD);if(aC[0]==="welcome_user"){aB.userName=aC[1].name}}catch(aE){}}return aB}};s.Auth={CustomProvider:D,OpenID2Provider:I,OpenID1Provider:i,CookieUserStateStore:m,providers:{aol:new i("aol","http://openid.aol.com/","",false,514,550),blogger:new i("blogger","","",false,800,600),livejournal:new i("livejournal","http://",".livejournal.com/",true,800,600),netlog:new i("netlog","http://netlog.com/","",false,800,600),openid:new i("openid","","",false,800,600),wordpress:new i("wordpress","http://",".wordpress.com/",true,800,600),flickr:new I("flickr","http://flickr.com/",500,500),google:new I("google","https://www.google.com/accounts/o8/id",450,500),hyves:new I("hyves","http://hyves.nl/",800,600),myopenid:new I("myopenid","http://myopenid.com/",800,600),verisign:new I("verisign","http://pip.verisignlabs.com/",800,600),yahoo:new I("yahoo","https://me.yahoo.com/",500,500),facebook:new D("facebook",500,500),live_id:new D("liveid",750,550),linkedin:new D("linkedin",750,550),myspace:new D("myspace",800,500),twitter:new D("twitter",800,500)}};s.Util={LightBox:N,PopupWindow:q,QueryBuilder:x,addListener:b,addClickListener:ac,bind:am,indexOf:k,parseQueryString:R};s._xdCallbacks=[];X=function(aD){var aB,aC;aB=s._xdCallbacks.length;aC="RPXNOW._xdCallbacks["+aB+"]";s._xdCallbacks.push(function(aG){var aE,aF;aE=k(s._xdCallbacks,this);s._xdCallbacks[aE]=null;aF=F(aG);aD(aF)});return aC};L=function(aF,aB,aI){var aG,aH,aD,aC,aE;aG=X(aI);aE=s.config.baseUrl.replace(/^https?/,l);aH=aE+"jsapi/v3/"+aF;aD=new J(aH,aB);aD.setHidden("xdReceiver",s.config.xdReceiver);aD.setHidden("callback",aG);if(s.config.baseUrl===s.DEFAULT_BASE_URL){aD.setHidden("appId",s.config.appId)}aC=new ai();aD.submitTo(aC)};av=function(aF,aD,aE,aC,aB){aF.innerHTML=('<iframe src="'+(n?s.config.baseUrl+"blank.html":"")+'" name="'+aD+'" id="'+aD+'" style="width: '+aE+"px; height: "+aC+'px; background: transparent; position: absolute; top: 0; left: 0; visibility: hidden; display: none;" scrolling="no" frameBorder="0" allowTransparency="true"></iframe>');w(aF,{backgroundColor:"transparent",backgroundImage:Q(aB),backgroundRepeat:"no-repeat",backgroundPosition:"top left",fontSize:"17px",textAlign:"center",width:aE+"px",height:aC+"px",overflow:"hidden",fontFamily:"'lucida grande', Helvetica, Verdana, sans-serif"})};h=function(aB,aC){if(T){aB.onreadystatechange=function(){if(aB.readyState==="complete"){aC.style.visibility="hidden";aB.style.visibility="visible";a.setTimeout(function(){aB.style.display="block"},1500)}}}else{aB.addEventListener("load",function(){aB.style.display="block";a.setTimeout(function(){aC.style.visibility="hidden";aB.style.visibility="visible"},1)},false)}};var az=s.Social={publishActivity:function(aE,aL){var aD;if(ax(aE.title)){aE.setTitle(Z.title)}var aC="rpx_auth_"+(new Date()).getTime();var aB=P("div");var aF=new N(aB,423,280);av(aB,aC,423,280,"bg_social");if(s.config.hasError()){var aJ=P("div");w(aJ,{lineHeight:"306px",padding:"13px"});aJ.appendChild(Z.createTextNode("Error: "+s.config.error));aB.appendChild(aJ)}else{aB.style.lineHeight="280px";aD=P("span");aD.appendChild(Z.createTextNode("Loading..."));aB.appendChild(aD)}var aG=Z.getElementById(aC);if(ah(aL)){aL={finishCallback:aL}}else{if(K(aL)){aL={}}else{if(!A(aL)){throw new Error("options must be an associative array")}else{if(!K(aL.finishCallback)&&!ah(aL.finishCallback)){throw new Error("finishCallback must be a function")}if(!K(aL.exclusionList)&&!d(aL.exclusionList)){throw new Error("exclusionList must be an array")}if(!K(aL.urlShortening)&&!al(aL.urlShortening)){throw new Error("urlShortening must be a boolean")}if(!K(aL.primaryKey)&&!ar(aL.primaryKey)){throw new Error("primaryKey must be a string")}}}}var aI=null;if(!ah(aL.finishCallback)){aL.finishCallback=function(aM){}}var aH=function(aO){var aM=function(){aL.finishCallback(aO.publishResults)};if(!ax(s.config.tokenCallbackUrl)&&aO.authTokens.length>0){var aN=new J(s.config.tokenCallbackUrl);aN.setHidden("tokens",aO.authTokens);var aP=new ai();aN.setTarget(aP.getName());aP.addOnloadListener(aM);aN.setMethod("POST");aN.submit()}else{a.setTimeout(aM,1)}};aI=X(aH);if(!s.config.hasError()){h(aG,aD);var aK=function(aP){var aO,aN,aM;aO=s.config.baseUrl.replace(/^https?/,l);aN=aO+"social/publish_activity";aM=new J(aN);aM.setMethod("POST");aM.setHidden("activity",v(aE));aM.setHidden("sessid",aP.sessid);aM.setHidden("appId",s.config.appId);aM.setHidden("language_preference",s.language_preference);if(!K(aL.exclusionList)){aM.setHidden("exclusionList",aL.exclusionList.join())}if(!K(aL.urlShortening)){aM.setHidden("urlShortening",aL.urlShortening)}if(!K(aL.primaryKey)){aM.setHidden("primaryKey",aL.primaryKey)}aM.setHidden("xdReceiver",s.config.xdReceiver);aM.setHidden("callback",aI);aM.setTarget(aC);aM.submit()};L("popup_session",{},aK)}aF.show();return false},clearSocialCookies:function(aC){if(!K(aC)){if(!ax(aC)&&!M.test(aC)){throw new Error("The dest must be an absolute URL")}var aB=new RegExp("^https?://"+aq(Z.location.host)+"/");if(!ax(aC)&&!aB.test(aC)){throw new Error("dest host does not match the current page.")}}var aF=s.config.baseUrl+"social/logout";var aE=new J(aF);aE.setHidden("appId",s.config.appId);var aD=new ai();aE.setTarget(aD.getName());if(!K(aC)){aD.addOnloadListener(function(){a.top.location.href=aC})}aE.submit();return false}};az.Activity=function(aC,aD,aB){if(!ar(aC)){throw new Error("a non-null share_display string is required.")}this.share_display=aC;if(!ar(aD)){throw new Error("a non-null action string must be provided.")}this.action=aD;if(!ar(aB)||!aA.test(aB)){throw new Error("a valid url must be provided.")}this.url=aB;this.provider_urls={};this.title=null;this.description=null;this.user_generated_content=null;this.properties={};this.action_links=[];this.media=null};az.Activity.prototype={setTitle:function(aB){if(!ar(aB)){throw new Error("title must be a string")}this.title=aB},setDescription:function(aB){if(!ar(aB)){throw new Error("description must be a string")}this.description=aB},setUserGeneratedContent:function(aB){if(!ar(aB)){throw new Error("user_generated_content must be a string")}this.user_generated_content=aB},addActionLink:function(aC,aB){if(!ar(aB)||!aA.test(aB)){throw new Error("a valid url must be provided.")}this.action_links.push({text:aC,href:aB})},addTextProperty:function(aB,aC){if(!ar(aB)||!ar(aC)){throw new Error("The name and text must be strings")}this.properties[aB]=aC},addLinkProperty:function(aC,aD,aB){if(!ar(aC)||!ar(aD)){throw new Error("The name and text must be strings")}if(!ar(aB)||!aA.test(aB)){throw new Error("a valid url must be provided.")}this.properties[aC]={text:aD,href:aB}},setMediaItem:function(aB){this.media=aB.toMediaArray()},addProviderUrl:function(aC,aB){if(!ar(aC)){throw new Error("a valid provider must be provided.")}if(!ar(aB)||!aA.test(aB)){throw new Error("a valid url must be provided.")}this.provider_urls[aC]=aB}};az.Mp3MediaItem=function(aE,aD,aB,aC){if(!ar(aE)||!M.test(aE)){throw new Error("The src must be a valid url")}this.type="mp3";this.src=aE;if(ar(aD)){this.title=aD}if(ar(aB)){this.artist=aB}if(ar(aC)){this.album=aC}};az.Mp3MediaItem.prototype={toMediaArray:function(){return[this]},setTitle:function(aB){this.title=aB},setArtist:function(aB){this.artist=aB},setAlbum:function(aB){this.album=aB}};az.VideoMediaItem=function(aC,aB,aD,aE){if(!ar(aC)||!M.test(aC)){throw new Error("video_src must be a valid url")}if(!ar(aB)||!M.test(aB)){throw new Error("preview_img must be a valid url")}this.type="video";this.video_src=aC;this.preview_img=aB;if(ar(aD)){if(!aA.test(aD)){throw new Error("video_link must be a valid url if provided")}}if(ar(aE)){this.video_title=aE}};az.VideoMediaItem.prototype={toMediaArray:function(){return[this]},setVideoLink:function(aB){if(!ar(aB)||!aA.test(aB)){throw new Error("video_link must be a valid url")}},setVideoTitle:function(aB){this.video_title=aB}};az.FlashMediaItem=function(aF,aG,aE,aC,aD,aB){if(!ar(aF)||!M.test(aF)){throw new Error("swfsrc must be a valid url")}if(!ar(aG)||!M.test(aG)){throw new Error("preview_img must be a valid url")}this.type="flash";this.swfsrc=aF;this.imgsrc=aG;if(ar(aE)||H(aE)){this.width=""+aE}if(ar(aC)||H(aC)){this.height=""+aC}if(ar(aD)||H(aD)){this.expanded_width=""+aD}if(ar(aB)||H(aB)){this.expanded_height=""+aB}};az.FlashMediaItem.prototype={toMediaArray:function(){return[this]},setWidth:function(aB){if(!ar(aB)&&!H(aB)){throw new Error("width must be a number")}this.width=""+aB},setHeight:function(aB){if(!ar(aB)&&!H(aB)){throw new Error("height must be a number")}this.height=""+aB},setExpandedWidth:function(aB){if(!ar(aB)&&!H(aB)){throw new Error("expanded_width must be a number")}this.expanded_width=""+aB},setExpandedHeight:function(aB){if(!ar(aB)&&!H(aB)){throw new Error("expanded_height must be a number")}this.expanded_height=""+aB}};az.ImageMediaCollection=function(){this.images=[]};az.ImageMediaCollection.prototype={toMediaArray:function(){return this.images},addImage:function(aC,aB){if(this.images.length>=5){throw new Error("Cannot have more than 5 images.")}if(!ar(aC)||!M.test(aC)){throw new Error("src must be a valid url")}if(!ar(aB)||!aA.test(aB)){throw new Error("href must be a valid url")}this.images.push({type:"image",src:aC,href:aB})}};aa=function(){this.appId=null;this.xdReceiver=null;this.baseUrl=s.DEFAULT_BASE_URL;this.error=null;this.tokenCallbackUrl=null};aa.prototype={initialize:function(aC,aB,aD){this.appId=aC;this.xdReceiver=aB;this.tokenCallbackUrl=aD},setError:function(aB){this.error=aB},hasError:function(){return !ax(this.error)}};if((K(s.config))||!s.config){s.config=new aa()}z=[];ay=function(aB){if(s.config.baseUrl===s.DEFAULT_BASE_URL){z.push(aB)}else{aB()}};s.loadAndRun=function(aB,aC){ay(aC)};s.init=function(aC,aG){var aJ,aD,aH,aE,aF=null,aI=null,aB=Z.location;if(A(aC)){aJ=aC.appId;aD=aC.xdReceiver;aF=aC.baseUrl;aI=aC.tokenCallbackUrl}else{aJ=aC;aD=aG}if(K(aD)){aD=aB.protocol+"//"+aB.host+"/rpx_xdcomm.html"}else{if(M.test(aD)){aH=new RegExp("^https?://"+aq(aB.host)+"/");if(!aH.test(aD)){throw new Error("RPXNow:init: xdReceiver host does not match.")}}else{if(aw.test(aD)){aD=aB.protocol+"//"+aB.host+aD}else{throw new Error("RPXNow:init: xdReceiver must be either an absolute URL or a relative URL path starting with /.")}}}if(aF){s.config.baseUrl=s.DEFAULT_BASE_URL=aF}s.config.initialize(aJ,aD,aI);aE={success:function(aK){var aM,aL,aN;s.config.initialize(aJ,aD,aI);s._base_cb=function(aQ,aP){if(aQ){s.config.baseUrl=aP}else{s.config.setError(aP)}var aO=z.shift();while(ah(aO)){aO();aO=z.shift()}};aN=s.DEFAULT_BASE_URL.replace(/^https?/,l);aM=aN+"jsapi/v3/base_url";aM+="?appId="+aJ;aM+="&xdReceiver="+a.escape(aD);aL=P("script");aL.src=aM;aL.type="text/javascript";Z.body.appendChild(aL)},failure:function(aM,aL,aK){s.config.setError("unable to load "+aD)}};j.fetch(aD,aE)};s.loaded=false;s.show=function(){s.show_on_load=true};s.always_open=false;s.overlay=false;s.language_preference="en";s.default_provider=null;s.lso_submit_action=null;s.token_url=null;s.realm=null;s.domain=null;s.flags=null;s.email=null;s.openid_proxy_url=null;s.ssl=null;ab=["token_url","language_preference","user_identifier","flags","default_provider","email","openid_proxy_url"];W=function(aC,aE){var aJ,aG,aH,aD,aI,aB;if(!M.test(aC)){f(aC);f("Error - token_url must be an absolute URL with no fragment.")}aJ=s.config.baseUrl.split("/")[2];aG=null;if(s.rp_id){aG=s.rp_id}else{if(s.domain){aJ=s.domain}else{if(s.realm){if(s.realm.match(/\./)){aJ=s.realm}else{aJ=s.realm+"."+aJ}}else{if(aE){aJ=aE}}}}aH=new x();aH.add("token_url",aC);aD=ax(s.ssl)?l:(s.ssl?"https":"http");aI=aD+"://"+aJ+"/openid/embed?";if(aG){aH.add("rp_id",aG)}for(aB=0;aB<ab.length;aB++){var aF=ab[aB];if(aF!=="token_url"&&s[aF]){aH.add(aF,s[aF])}}return aI+aH.toString()};c={bg:"Зареждане",cs:"Načítání",da:"Indlæser",de:"Lade",el:"loading",en:"Loading",es:"Cargando",et:"Laetakse",fi:"Ladataan",fr:"Chargement",hr:"Učitavanje",hu:"Betöltés",it:"Caricamento",ja:"読み込んでいます",ko:"로딩",nl:"Laden",no:"Laster",pl:"Loading",pt:"Carregando","pt-BR":"Carregando",ro:"Încărcare",ru:"Загрузка",sr:"Učitavam","sv-SE":"Laddar",vi:"Đang tải",zh:"载入中","zh-CHT":"載入中"};b("load",a,function(){var aC,aE,aF,aB,aD;aD=function(aH){var aK,aJ,aG,aI;aG=aH.href;aI=aG.match(/https?:\/\/([^\/]+)/);if(!s.token_url){aK=R(aG).token_url}if(aI!==null){aJ=aI[1]}aH.onclick=function(){s.show(aK,aJ);return false}};s.show=function(aJ,aO){var aK,aQ,aI,aH,aL,aM,aP,aN,aG;if(N.currentInstance!==null){return false}if(K(aJ)){aJ=s.token_url}aP=c[s.language_preference];if(!aP){aP=c.en}aK=373;aQ=265;aI="rpx_auth_"+(new Date()).getTime();aH=P("div");aM=new N(aH,aK,aQ);av(aH,aI,aK,aQ,"bg_auth");aH.style.lineHeight=aQ+"px";aL=P("span");aL.appendChild(Z.createTextNode(aP+"..."));aH.appendChild(aL);aN=Z.getElementById(aI);aN.style.marginTop="12px";h(aN,aL);aM.show();aG=W(aJ,aO);aN.contentWindow.location.replace(aG);if(!aJ){f("Error - RPXNOW.token_url is undefined.")}return false};aE=Z.getElementsByTagName("a");aF=new RegExp("(^|\\s)rpxnow(\\s|$)");for(aC=0;aC<aE.length;aC++){aB=aE[aC];if(aF.test(aB.className)){aD(aB)}}if(s.show_on_load||s.always_open){s.show()}});a.RPXNOW=s}(this));